<ng-container *ngIf="shoppingCart.length > 0 else noContent">
    <div class="row mx-md-2">
        <div>
            <div class="input-group">
                <div class="input-group-prepend">
                    <div class="input-group-text">
                        <input
                            type="checkbox"
                            [(ngModel)]="homeDelivery"
                            (change)="priceOfHomeDeliveryChange()">
                    </div>
                </div>
                <input
                    min="0"
                    step="1000"
                    type="number"
                    class="form-control"
                    [placeholder]="!homeDelivery ? 'Domicilio' : 'Precio Del Domicilo'"
                    [readonly]="!homeDelivery"
                    [(ngModel)]="priceOfHomeDelivery"
                    (input)="actualizePrice()">
            </div>
        </div>
    </div>
    <div class="row my-3 mx-md-2">
        <table class="table table-striped table-bordered table-condensed">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Precio</th>
                    <th>Cantidad</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody *ngIf="shoppingCart.length >= 10">
                <tr>
                    <th>Nombre</th>
                    <th>Precio</th>
                    <th>Cantidad</th>
                    <th>Acciones</th>
                </tr>
            </tbody>
            <tbody>
                <tr *ngFor="let productInCart of shoppingCart; let i = index">
                    <td>{{ productInCart.product.name }}</td>
                    <td>{{ productInCart.total | number }}</td>
                    <td>
                        <input 
                            [tabindex]="i + 1"
                            type="number"
                            class="form-control"
                            [(ngModel)]="productInCart.amount"
                            (keydown.enter)="actualizePrice()"
                            (focusout)="actualizePrice()">
                    </td>
                    <td class="text-center">
                        <button class="btn btn-danger text-center" (click)="deleteProduct(i)">
                            <i class="far fa-minus-square"></i>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="row mx-md-2">
        <div class="col-sm-12 col-md-6 p-0">
            <h4 class="text-dark">
                Total: <span class="strong text-muted">{{ totalPrice | number }}</span>
            </h4>
        </div>
        <div class="col-sm-12 col-md-6 p-0 text-right">
            <button class="btn btn-info btn-sm-block mr-md-2" (click)="refreshPageEvent()">
                Cancelar
            </button>
            <button class="btn btn-success btn-sm-block" [disabled]="client.name.length <= 0 || shoppingCart.length == 0" (click)="finishOrder()" data-toggle="modal" data-target="#modalTickets">
                <i class="far fa-file"></i> Terminar Pedido
            </button>
        </div>
    </div>
</ng-container>
<ng-template #noContent>
    Aun no tienes ningun producto seleccionado.
</ng-template>
<app-modal idModal="modalTickets" title="Pedido Finalizado">
    <div class="modal-body">
        <app-ticket-view></app-ticket-view>
    </div>
    <div class="modal-footer">
        <button class="btn btn-info text-center" data-dismiss="modal" (click)="refreshPageEvent()">
            Salir
        </button>
        <button class="btn btn-info text-center">
            <i class="fas fa-print"></i> Imprimir
        </button>
    </div>
</app-modal>