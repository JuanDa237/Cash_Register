<div class="row mb-2">
	<div class="col-8 align-middle">
		<div class="company-info">
			<img
				[src]="apiUrl + company.image"
				noImage
				class="rounded"
				[alt]="company.name"
				[title]="company.name"
			/>
			<h4>{{ company.name }}</h4>
		</div>
	</div>
	<div class="info col-4 text-right">
		<p>{{ bill.createdAt | date: 'dd/MM/yyyy HH:mm' }}</p>
		<p># {{ bill.idDay | number }}</p>
		<p class="font-weight-bold">
			<span *ngIf="bill.homeDelivery">Domicilio</span>
			<span *ngIf="!bill.homeDelivery">Pedido Local</span>
		</p>
	</div>
</div>
<div class="row mb-2">
	<div class="col">
		<p class="text-center text-justify border border-dark p-2 my-2">
			{{ company.billMessage }}
		</p>
	</div>
</div>
<div class="row mb-2">
	<div class="col">
		<span class="font-weight-bold">Nombre:</span> {{ client.name }} |
		<ng-container *ngIf="bill.homeDelivery; else noHomeDelivery">
			<span class="font-weight-bold">Domicilio</span>
			<span *ngIf="client.address"> | Direccion: {{ client.address }}</span>
			<span *ngIf="client.phoneNumber"> | Telefono: {{ client.phoneNumber }} </span>
		</ng-container>
		<ng-template #noHomeDelivery>
			<span class="font-weight-bold"> Pedido Local </span>
		</ng-template>
	</div>
</div>
<div class="row">
	<div class="col">
		<table class="table table-sm my-2">
			<thead>
				<tr>
					<th>Producto</th>
					<th>Cantidad</th>
					<th *ngIf="messages">Mensaje</th>
					<th>Precio</th>
				</tr>
			</thead>
			<tbody>
				<tr *ngFor="let product of productsInBill">
					<td>{{ product.name }}</td>
					<td>{{ product.amount | number }}</td>
					<td *ngIf="messages">
						<p>
							{{ product.message }}
						</p>
					</td>
					<td>{{ product.price * product.amount | number }}</td>
				</tr>
			</tbody>
			<tfoot class="font-weight-bold">
				<ng-container *ngIf="bill.homeDelivery">
					<tr>
						<td>Sub-Total</td>
						<td></td>
						<td>
							{{ bill.total - bill.homeDelivery | number }}
						</td>
					</tr>
					<tr>
						<td>Domicilio</td>
						<td></td>
						<td>{{ bill.homeDelivery | number }}</td>
					</tr>
				</ng-container>
				<tr>
					<td>Total</td>
					<td></td>
					<td>{{ bill.total | number }}</td>
				</tr>
				<ng-container *ngIf="bill.cash && bill.cash > 0">
					<tr class="mt-4">
						<td>Efectivo</td>
						<td></td>
						<td>{{ bill.cash | number }}</td>
					</tr>
					<tr>
						<td>Cambio</td>
						<td></td>
						<td>{{ bill.cash - bill.total | number }}</td>
					</tr>
				</ng-container>
			</tfoot>
		</table>
	</div>
</div>
